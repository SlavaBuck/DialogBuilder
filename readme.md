# ExtendScript DialogBuilder
***Status:*** *В разработке...* | ***Version:*** *1.82* | ***Last update:*** *03.08.2014*

Дизанер и конструктор диалоговых окон для **Adobe ExtendScript© & InDesign©**, написан на чистом **JavaScript** (**ExtendScript**).

![src/doc/DBuilder_tutorial.png](src/doc/DBuilder_tutorial.png)

### Основные возможности
* Генерация корректного javascript-кода для создаваемого макета диалога, с возможностью сохранения и последующего открытия для продолжения редактирования, а также передачи js-кода из приложения в редактор (по умолчанию в ESTK);
* Многодокументный интерфейс — позволяет одновременную работу с несколькими документами-диалогами;
* Полная локализация интерфейса — обеспечивается отдельным файлом locales.jsxinc, расположенном в папке Requres и содержащим доступные в пользовательском интерфейсе языки для всех строковых ресурсов приложения (для текущей версии поддерживается русский и английский);
* Поддерживаются широкие возможности по управлению настройками приложения и внешним видом как интерфейса самой программы, так и внешним видом документов-диалогов;
* Процесс редактирования диалога реализован в полном соответствии с технологией Live Update (все изменения настроек редактируемого элемента немедленно отображаются на его внешнем представлении);
* Поддерживается копирование/вырезание/вставка элементов между документами;
* Поддерживается перемещение как отдельных элементов в пределах своих контейнеров (групп и панелей), так и перемещение самих групп в пределах окна диалога;
* Поддерживается возможность управления пользовательскими наборами шрифтов и цветов, которые могут быть сохранены в настройках приложения и использованы повторно;
* Поддерживаются клавиатурные сокращения (к сожалению, корректная работа с клавиатурными сокращениями возможна только при закрытом  редакторе ESTK, в противном случае он производит перехват нажатия горячих клавиш);
* Наряду со стандартными ScriptUI-объектами, поддерживается работа с произвольными пользовательскими элементами графического интерфейса, которые могут быть дополнительно включены в файл controls.jsxinc, расположенном в папке Requres и, при необходимости, дополнены собственными свойствами (например, так реализована работа с элементом Separator).

#### Планируется в следующих версиях:
* Групповое выделение объектов пользовательского интерфейса в документе и выполнение групповых операций: выравнивания, установка размеров и пр…;
* Добавление предустановленных наборов из групп элементов управления для быстрого формирования диалогов на основе типовых шаблонов;
* Расширение возможностей по настройке и работе со списками и изображениями в объекте диалога: 
	* конвертация и включение изображений в тело скрипта; 
	* настройка масштабирования изображений, помещаемых в пользовательские элементы управления;
	* Работа с массивами изображений для элементов, поддерживающих мультисостояния (IconButton/toolbutton и т.п.);
	* реализация работы с многоколоночными списками и включением изображений в списки;
	* привязка списков к источникам данных;
	* дополнение более широких возможностей по редактированию элемента управления TreeView;
* Использование мастера начального создания диалога с предустановленными шаблонами;
* Внедрение совместимости с MacOS и последними версиями Adobe Indesign CC.

### Установка
**DialogBuilder** базируется на библиотеках **ExtendScript**, представленных в отдельном [репозитории](https://github.com/SlavaBuck/Includes). В [данном](https://github.com/SlavaBuck/DialogBuilder/archive/master.zip) репозитории содержиться две папки ***./contrib*** и ***./src***. Последняя скомпилированная рабочая версия находится в папке ***./contrib***. Для использования программы достаточно поместить содержимое папки *./contrib* в папку со скриптами **InDesign** и с палитры скриптов запустить файл *DBuilder.jsx* (чтобы файлы были видны в палитре скриптов InDesign, их можно расспаковать в папку *C:\Program Files (x86)\Adobe\Adobe InDesign CS6\Scripts\Scripts Panel\* - справедливо для win7 & InDesign CS6):

[![Установка и работа с DialogBuilder](https://i1.ytimg.com/vi/i6P0OuBvmqI/3.jpg?time=1401041885690)](http://youtu.be/i6P0OuBvmqI)

Для работы с исходниками необходимо дополнительно скачать [библиотеки](https://github.com/SlavaBuck/Includes) и в файле *./src/02application.jsx* прописать к ним путь:

```js
/* *************************************************************************
 *  02application.jsx
 *  DESCRIPTION: BuilderApplication: Основной класс приложения 
 *  @@@BUILDINFO@@@ 02application.jsx 1.20 Sun May 25 2014 19:23:11 GMT+0300
 * 
 * NOTICE: 
 * 
/* *************************************************************************
 * © Вячеслав aka SlavaBuck, 10.02.2014.  slava.boyko#hotmail.com
 */

// #includepath нужно настроить на папку с библиотеками
#includepath "../../Include/"
```

Подробности в [руководстве пользователя](contrib/doc/DialogBuilder%20-%20readme.pdf).

----------------------------------
**Copyright:** © Вячеслав aka Buck, 2014. <slava.boyko@hotmail.com>

**License:** [Creative Commons Attribution-NonCommercial-ShareAlike 3.0](http://creativecommons.org/licenses/by-nc-sa/3.0/)

**РУС:** РАЗРЕШЕНО СВОБОДНОЕ ИСПОЛЬЗОВАНИЕ ПРОИЗВЕДЕНИЯ, ПРИ УСЛОВИИ УКАЗАНИЯ ЕГО АВТОРА, НО ТОЛЬКО В НЕКОММЕРЧЕСКИХ ЦЕЛЯХ. ТАКЖЕ ВСЕ ПРОИЗВОДНЫЕ ПРОИЗВЕДЕНИЯ, ДОЛЖНЫ РАСПРОСТРАНЯТЬСЯ ПОД ЛИЦЕНЗИЕЙ CC BY-NC-SA.

**ENG:** THE WORK (AS DEFINED BELOW) IS PROVIDED UNDER THE TERMS OF THIS CREATIVE COMMONS PUBLIC LICENSE (''CCPL'' OR ''LICENSE''). THE WORK IS PROTECTED BY COPYRIGHT AND/OR OTHER APPLICABLE LAW. ANY USE OF THE WORK OTHER THAN AS AUTHORIZED UNDER THIS LICENSE OR COPYRIGHT LAW IS PROHIBITED.
